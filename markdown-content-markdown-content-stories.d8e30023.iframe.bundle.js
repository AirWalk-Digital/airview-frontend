(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"./src/components/markdown-content/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MarkdownContent}));__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),red=__webpack_require__("./node_modules/@material-ui/core/colors/red.js"),red_default=__webpack_require__.n(red),makeStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),dist=__webpack_require__("./node_modules/rich-markdown-editor/dist/index.js"),dist_default=__webpack_require__.n(dist),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),Skeleton=__webpack_require__("./node_modules/@material-ui/lab/esm/Skeleton/Skeleton.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function MarkdownContentLoading(){var classes=useStyles();return react_default.a.createElement("div",{className:classes.root},react_default.a.createElement(Skeleton.a,{width:"70%"},react_default.a.createElement(Typography.a,{variant:"h1"},".")),react_default.a.createElement("div",null,_toConsumableArray(Array(7)).map((function(item,index){return react_default.a.createElement(Skeleton.a,{width:"100%",key:index},react_default.a.createElement(Typography.a,null,"."))}))),react_default.a.createElement("div",null,_toConsumableArray(Array(5)).map((function(item,index){return react_default.a.createElement(Skeleton.a,{width:"100%",key:index},react_default.a.createElement(Typography.a,null,"."))}))),react_default.a.createElement(Skeleton.a,{width:"50%"},react_default.a.createElement(Typography.a,{variant:"h2"},".")),react_default.a.createElement("div",null,_toConsumableArray(Array(6)).map((function(item,index){return react_default.a.createElement(Skeleton.a,{width:"100%",key:index},react_default.a.createElement(Typography.a,null,"."))}))),react_default.a.createElement("div",null,_toConsumableArray(Array(5)).map((function(item,index){return react_default.a.createElement(Skeleton.a,{width:"100%",key:index},react_default.a.createElement(Typography.a,null,"."))}))),react_default.a.createElement("div",null,_toConsumableArray(Array(3)).map((function(item,index){return react_default.a.createElement(Skeleton.a,{width:"100%",key:index},react_default.a.createElement(Typography.a,null,"."))}))),react_default.a.createElement(Skeleton.a,{width:"50%"},react_default.a.createElement(Typography.a,{variant:"h2"},".")),react_default.a.createElement("div",null,_toConsumableArray(Array(8)).map((function(item,index){return react_default.a.createElement(Skeleton.a,{width:"100%",key:index},react_default.a.createElement(Typography.a,null,"."))}))),react_default.a.createElement("div",null,_toConsumableArray(Array(3)).map((function(item,index){return react_default.a.createElement(Skeleton.a,{width:"100%",key:index},react_default.a.createElement(Typography.a,null,"."))}))))}MarkdownContentLoading.displayName="MarkdownContentLoading";var useStyles=Object(makeStyles.a)((function(theme){return{root:{"& > *":{margin:`0 0 ${theme.spacing(2)}px 0`}}}}));function markdown_content_toConsumableArray(arr){return function markdown_content_arrayWithoutHoles(arr){if(Array.isArray(arr))return markdown_content_arrayLikeToArray(arr)}(arr)||function markdown_content_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||markdown_content_unsupportedIterableToArray(arr)||function markdown_content_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||markdown_content_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function markdown_content_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return markdown_content_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?markdown_content_arrayLikeToArray(o,minLen):void 0}}function markdown_content_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}MarkdownContentLoading.__docgenInfo={description:"",methods:[],displayName:"MarkdownContentLoading"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/markdown-content/markdown-content-loading.js"]={name:"MarkdownContentLoading",docgenInfo:MarkdownContentLoading.__docgenInfo,path:"src/components/markdown-content/markdown-content-loading.js"});var MarkdownContent=react_default.a.forwardRef((function(_ref,ref){var loading=_ref.loading,readOnly=_ref.readOnly,onChange=_ref.onChange,onUploadImage=_ref.onUploadImage,content=_ref.content,styles=markdown_content_useStyles(),history=Object(react_router.d)(),_useArrayRef2=_slicedToArray(function useArrayRef(){var refs=[];return[refs,function(el){return el&&refs.push(el)}]}(),2),elements=_useArrayRef2[0],arrayRef=_useArrayRef2[1];Object(react.useEffect)((function(){var headings=elements.reduce((function(prevValue,currentValue){return[].concat(markdown_content_toConsumableArray(prevValue),markdown_content_toConsumableArray(currentValue.getHeadings()))}),[]);ref&&(ref.current=headings)}));var handleOnLinkClick=function(href){!function isExternalLink(link){var tmp=document.createElement("a");return tmp.href=link,tmp.host!==window.location.host}(href)?history.push(href.replace(window.location.origin,"")):window.open(href)};return loading?react_default.a.createElement(MarkdownContentLoading,null):content?content.map((function(_ref2,index){var title=_ref2.title,placeholder=_ref2.placeholder,defaultValue=_ref2.defaultValue,additionalContent=_ref2.additionalContent;return react_default.a.createElement(react_default.a.Fragment,{key:index},defaultValue&&readOnly||!readOnly?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Typography.a,{variant:"h2",paragraph:!0},title),react_default.a.createElement(dist_default.a,{readOnly:readOnly,placeholder:placeholder,defaultValue:defaultValue,onChange:function(value){return function(changes,index){var regEx=new RegExp(/^\\\W*$/gm);onChange({markdown:regEx.test(changes)?changes.replace(/^\\/,""):changes,index:index})}(value(),index)},onClickLink:handleOnLinkClick,uploadImage:onUploadImage,ref:arrayRef,className:styles.editor,disableExtensions:["container_notice"]})):null,react_default.a.createElement("div",{className:styles.additionalContent},additionalContent))})):null}));MarkdownContent.displayName="MarkdownContent",MarkdownContent.propTypes={loading:prop_types_default.a.bool.isRequired,readOnly:prop_types_default.a.bool.isRequired,onChange:prop_types_default.a.func,onUploadImage:prop_types_default.a.func,content:prop_types_default.a.arrayOf(prop_types_default.a.shape({title:prop_types_default.a.string,placeholder:prop_types_default.a.string,defaultValue:prop_types_default.a.string,additionalContent:prop_types_default.a.node}))};var markdown_content_useStyles=Object(makeStyles.a)((function(theme){return{editor:{"& .placeholder:before":{display:"initial!important"},"& > div":{backgroundColor:"inherit"},"& .ProseMirror":{"& > *":{margin:`0 0 ${theme.spacing(2)}px 0`},overflowWrap:"break-word","& h1":Object.assign({},theme.typography.h1),"& h2":Object.assign({},theme.typography.h2),"& h3":Object.assign({},theme.typography.h3),"& h4":Object.assign({},theme.typography.h4),"& h5":Object.assign({},theme.typography.h5),"& h6":Object.assign({},theme.typography.h6),"& h1, & h2, & h3, & h4, & h5, & h6":{"&:not(.placeholder):before":{content:"none"},"& .heading-actions":{display:"none"}},"& p, & ul, & ol, & dl, & blockquote, & small":Object.assign({},theme.typography.body1),"& blockquote":{paddingLeft:theme.spacing(2),borderLeft:`${theme.spacing(.5)}px solid ${theme.palette.primary.main}`,margin:`${theme.spacing(1)+16}px 0`,"&:before":{content:"none"},"& cite":{display:"block",fontStyle:"normal",fontWeight:theme.typography.fontWeightMedium,fontSize:theme.typography.pxToRem(14)}},"& small":{fontSize:theme.typography.pxToRem(12),fontStyle:"italic"},"& a":{textDecoration:"underline",color:theme.palette.primary.main,"&:hover, &:focus":{textDecoration:"none"}},"& ul, & ol":{listStylePosition:"outside",padding:"0 0 0 32px"},"& dl":{"& dt":{fontWeight:theme.typography.fontWeightBold},"& dd":{margin:`0 0 ${theme.spacing(2)}px 0`,"&:last-of-type":{marginBottom:0}}},"& code":{fontSize:"90%",fontFamily:"Consolas,'Liberation Mono',Courier,monospace",color:red_default.a[900],borderRadius:theme.shape.borderRadius,backgroundColor:theme.palette.grey[100],padding:"3px 6px"},"& pre":{display:"block",width:"100%",whiteSpace:"pre",overflow:"auto",backgroundColor:theme.palette.grey.A400,borderRadius:theme.shape.borderRadius,tabSize:2,wordWrap:"initial",fontSize:theme.typography.pxToRem(14),margin:`${theme.spacing(1)+16}px 0`,padding:0,"& code":{overflowX:"auto",display:"block",padding:`${theme.spacing(2)}px`,backgroundColor:"transparent",border:0,color:theme.palette.grey[400],fontSize:"100%"}},"& table":{borderCollapse:"collapse",width:"100%",textAlign:"left",margin:`${theme.spacing(1)+16}px 0`,fontFamily:theme.typography.fontFamily,fontWeight:theme.typography.fontWeightRegular,[theme.breakpoints.down(800)]:{overflow:"hidden",overflowX:"scroll",display:"block",whiteSpace:"nowrap",height:"auto","-webkit-overflow-scrolling":"touch"},"& th":{fontWeight:theme.typography.fontWeightMedium},"& td":{verticalAlign:"top"},"& tbody":{wordBreak:"break-word"},"& th, & td":{border:`1px solid ${theme.palette.grey[300]}`,minWidth:100},"& thead th, & thead td, & tbody th, & tbody td, & tfoot th, & tfoot td":{padding:`${theme.spacing(1)}px ${theme.spacing(1)}px`},"& thead, & tbody tr:nth-child(even)":{backgroundColor:theme.palette.grey[100]},"& p":{fontSize:"inherit"},"& th p":{fontWeight:"inherit"}},"& mark":{backgroundColor:"#b3e7ff"},"& hr":{display:"block",height:0,margin:`${theme.spacing(4)}px 0`,border:0,borderBottom:`1px solid ${theme.palette.grey[300]}`},"& .image.placeholder":{background:"inherit"},"& img":{width:"auto",maxWidth:"100%",display:"block",margin:`0 auto ${theme.spacing(2)}px auto`},"& .anchor-link":{position:"absolute",marginTop:"-64px"}}},additionalContent:{"& > *":{marginBottom:theme.spacing(2)}}}}));MarkdownContent.__docgenInfo={description:"",methods:[],displayName:"MarkdownContent",props:{loading:{type:{name:"bool"},required:!0,description:"Sets the component to render in a loading state, best used when fetching data asynchronously"},readOnly:{type:{name:"bool"},required:!0,description:"Enables inline editing or read-only content within the Markdown Editor"},onChange:{type:{name:"func"},required:!1,description:"Callback for when a change is made in edit mode, calls with object containing edited markdown string, any user added images and cleanup function to remove images from memory. **signature:** `function({ markdown: String}) => void `"},onUploadImage:{type:{name:"func"},required:!1,description:"Callback when Markdown editor has had a user upload an image. **Signature: `function(file: Blob) => Promise`"},content:{type:{name:"arrayOf",value:{name:"shape",value:{title:{name:"string",required:!1},placeholder:{name:"string",required:!1},defaultValue:{name:"string",required:!1},additionalContent:{name:"node",required:!1}}}},required:!1,description:"Sets the content of the Markdown editor content"}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/markdown-content/markdown-content.js"]={name:"MarkdownContent",docgenInfo:MarkdownContent.__docgenInfo,path:"src/components/markdown-content/markdown-content.js"})},"./src/stories/markdown-content/markdown-content.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Loading",(function(){return Loading})),__webpack_require__.d(__webpack_exports__,"ReadOnly",(function(){return ReadOnly})),__webpack_require__.d(__webpack_exports__,"EditMode",(function(){return EditMode}));__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_components_markdown_content__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/markdown-content/index.js"),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/makeStyles.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js");function Template(args){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_markdown_content__WEBPACK_IMPORTED_MODULE_3__.a,args)}__webpack_exports__.default={title:"Modules/Markdown Content",component:_components_markdown_content__WEBPACK_IMPORTED_MODULE_3__.a,parameters:{layout:"fullscreen"},argsTypes:{defaultValue:{control:!1},ref:{control:!1},classNames:{control:!1}},decorators:[function(story){var classes=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__.a)((function(){return{root:{width:"100%",maxWidth:800,margin:"0 auto",padding:"16px 16px 0 16px"}}}))();return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classes.root},story())}]},Template.displayName="Template",Template.args={content:[{title:"Content Block One",placeholder:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit officia quidem quaerat rerum, nulla recusandae illum odit unde accusantium beatae qui maiores veritatis. Eum tempore, distinctio magnam aperiam voluptates sequi?"},{title:"Content Block Two",defaultValue:"Default value",additionalContent:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,"Component test")}],onChange:function(markdown){return Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("onChange")(markdown)},onUploadImage:async function(file){return Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("onUploadImage")(file),URL.createObjectURL(file)}};var Loading=Object.assign({},Template,{args:Object.assign({},Template.args,{readOnly:!0,loading:!0})}),ReadOnly=Object.assign({},Template,{args:Object.assign({},Template.args,{readOnly:!0,loading:!1})}),EditMode=Object.assign({},Template,{args:Object.assign({},Template.args,{readOnly:!1,loading:!1})})}}]);